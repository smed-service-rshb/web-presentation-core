## CustomModeLayout

```js
layouts.CustomModeLayout(modes, paramsResolver);
```

Позволяет динамическое изменение состава и параметров меню.
- Параметр `modes` задает состав дополнительных режимов работы меню.
- Параметр `paramsResolver` задает функцию формирования дополнительных параметров пунктов меню на основе параметров страницы и состояния.
По умалчанию в качестве `paramsResolver` используется функция, возвращающая переданное состояние.

Функция формирует HOC для страницы, который
1. добавляет лейаут по умолчанию, настроенный согласно входным параметрам функции
1. добавляет в оборачиваемый компонент функцию обновления состояния лейаута (`setLayoutData`)

Например:

```js
// описание меню
menuItem('Пункт меню 1', 'key1').toPage({
    key: 'key1',
}),

menuItem('Пункт меню 2', 'key2').toPage({
    key: 'key2',
    modes: ['first-mode'],
}),

menuItem('Пункт меню 3', 'key3').toPage({
    key: 'key3',
    modes: ['second-mode'],
}),

// описание лейаутов
const FirstModeLayout = layouts.CustomModeLayout(['first-mode']);
const SecondModeLayout = layouts.CustomModeLayout(['second-mode'], ({currentPage}) => currentPage.params);

```

- По умолчанию будет отображаться только один пункт меню `Пункт меню 1`.
- Если страница использует `FirstModeLayout`, то отобразиться два пункта меню `Пункт меню 1` и `Пункт меню 2`.
- Если страница использует `SecondModeLayout`, то отобразиться два пункта меню `Пункт меню 1` и `Пункт меню 3`,
причем параметры из URL'а страницы будут использоваться в качестве параметров для перехода на страницу `Пункт меню 3`
(т.к. у лейаута задана функция `paramsResolver`).
- Если страница использует `FirstModeLayout` или `SecondModeLayout`, то через `props` к ней поступит функция `setLayoutData`.
Эта функция изменяет состояние лейаута (сохраняя в него переданные данные).
